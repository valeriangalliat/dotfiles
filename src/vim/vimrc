"
" ~/.config/vim/vimrc
"

" Init pathogen.vim (silent if not installed)
silent! execute pathogen#infect()

" Theme
" =====

set t_Co=256

try
    colorscheme wombat256mod
catch
    " Download the theme and try to set it again
    silent! !sh -c '
    \ u="http://www.vim.org/scripts/download_script.php?src_id=13400";
    \ p=~/.vim/colors/wombat256mod.vim;
    \ mkdir -p ~/.vim/colors && curl -o "$p" "$u" || wget -O "$p" "$u"'

    colorscheme wombat256mod
endtry

syntax on " Syntax highlighting

" Color columns like cursor line
highlight ColorColumn term=underline ctermbg=236 guibg=#32322f

" Global
" ======

set nocompatible " Not compatible with Vi
set backspace=indent,eol,start " More powerful backspace
set ruler " Show cursor position
set number " Display numbers
set cursorline " Highlight cursor line
set colorcolumn=80 " Show 80 chars limit
set wildmenu " Enhanced command mode (display matches on tab)
set encoding=utf-8 " UTF-8 support
set nowrap " No word wrap

" Change leader key
let mapleader=','

"
" Complete until longest match. On tab, list matches. If tab is pressed
" again, do full completion.
"
set wildmode=longest,list,full

" Indentation
" ===========

set autoindent " Automatic indentation (keep previous line offset)
set tabstop=4 " Tab width
set expandtab " Use spaces instead of tabs
set softtabstop=4 " Remove 4 spaces with backspace
set shiftwidth=4 " Indentation command width
set shiftround " Indentation is always a multiple of configured width

" Filetypes
" =========

filetype on
filetype indent on " Load indentation rules regarding of filetype
filetype plugin on " Filetype specific config

" Auto return to line after 72 chars for text files
au FileType text set textwidth=72
au FileType tex set textwidth=72
au FileType markdown set textwidth=72


" Filetypes indentation
" =====================

au FileType apache set et!
au FileType gitconfig set et!

au FileType javascript set ts=2 sts=2 sw=2
au FileType html set ts=2 sts=2 sw=2
au FileType markdown set ts=2 sts=2 sw=2 wrap

" Syntax associations
" ===================

au BufRead,BufNewFile *.md set filetype=markdown
au BufRead,BufNewFile *.ronn set filetype=markdown
au BufRead,BufNewFile vimperatorrc set filetype=vimperator

" Search
" ======

set ignorecase " Case insensitive
set infercase " Sensitive completion
set smartcase " Sensitive search if upper characters
set incsearch " Highlight pattern while typed

" Whitespaces
" ===========

set listchars=tab:——,trail:•,nbsp:•
set list " Show whitespaces

" Misc
" ====

set virtualedit=block " No bounds when in visual block
set spelllang=en " Spell check language


" Wrap
" ====

"
" Include the wrap lines for following moves.
"
noremap j gj
noremap k gk
noremap $ g$
noremap ^ g^
noremap 0 g0

set linebreak " Do not break words
